include ~/components/text/text

mixin textField( options={} )
  -
    const {
      type,
      placeholder,
      hasTitle,
      title,
      subtitle,
      name,
      value,
      data,
      withButton,
      withSpellcheck,
      focused,
      autocomplete,
      classForJs
    } = options

    const mainClass = 'text-field__input'
    const focusedModifier = focused && 'text-field__input--focused'
    const inputWithButtonModifier = withButton && 'text-field__input--with-button'
    const buttonClass = 'text-field__button material-icons'

    const attrs = {
      class: [
        mainClass,
        focusedModifier,
        inputWithButtonModifier,
        classForJs
      ],
      type: type,
      'data-id': data,
      name: name,
      value: value,
      placeholder: placeholder,
      autocomplete: autocomplete,
      spellcheck: withSpellcheck,
    }

  .text-field
    if (hasTitle)
      .text-field__title
        +text({
          text: title,
          type: 'h3',
          color: 'dark-shade-100',
          bold: true,
          hasUpper: true
        })
        +text({
          text: subtitle,
          type: 'h3',
          color: 'dark-shade-50',
          hasUpper: true
        })
    .text-field__wrapper
      input&attributes(attrs)
      if (withButton)
        button(class=buttonClass type='submit' name='subscribe')='arrow_forward'
